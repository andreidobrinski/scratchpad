import{s as T,n as b,c as S}from"./scheduler.RVYweIDu.js";import{S as U,i as j,m as C,g as R,d as _,e as h,s as E,c as g,a as W,f as N,k as w,l as v,h as k,z as L}from"./index.Je63OzX8.js";import{_ as A}from"./preload-helper.0HuHagjb.js";import{w as x}from"./index.lL02BS-q.js";function D(o={}){const{immediate:e=!1,onNeedRefresh:t,onOfflineReady:s,onRegistered:i,onRegisteredSW:r,onRegisterError:c}=o;let f,u,p;const m=async(n=!0)=>{await u,await p?.()};async function l(){if("serviceWorker"in navigator){if(f=await A(()=>import("./workbox-window.prod.es5.prqDwDSL.js"),__vite__mapDeps([]),import.meta.url).then(({Workbox:n})=>new n("./sw.js",{scope:"./",type:"classic"})).catch(n=>{c?.(n)}),!f)return;p=async()=>{await f?.messageSkipWaiting()};{let n=!1;const d=()=>{n=!0,f?.addEventListener("controlling",a=>{a.isUpdate&&window.location.reload()}),t?.()};f.addEventListener("installed",a=>{typeof a.isUpdate>"u"?typeof a.isExternal<"u"?a.isExternal?d():!n&&s?.():a.isExternal?window.location.reload():!n&&s?.():a.isUpdate||s?.()}),f.addEventListener("waiting",d),f.addEventListener("externalwaiting",d)}f.register({immediate:e}).then(n=>{r?r("./sw.js",n):i?.(n)}).catch(n=>{c?.(n)})}}return u=l(),m}function I(o={}){const{immediate:e=!0,onNeedRefresh:t,onOfflineReady:s,onRegistered:i,onRegisteredSW:r,onRegisterError:c}=o,f=x(!1),u=x(!1),p=D({immediate:e,onOfflineReady(){u.set(!0),s?.()},onNeedRefresh(){f.set(!0),t?.()},onRegistered:i,onRegisteredSW:r,onRegisterError:c});return{needRefresh:f,offlineReady:u,updateServiceWorker:p}}function P(o){let e,t,s,i,r,c="Close",f,u;function p(d,a){return d[1]?q:V}let m=p(o),l=m(o),n=o[0]&&O(o);return{c(){e=h("div"),t=h("div"),l.c(),s=E(),n&&n.c(),i=E(),r=h("button"),r.textContent=c,this.h()},l(d){e=g(d,"DIV",{class:!0,role:!0});var a=W(e);t=g(a,"DIV",{class:!0});var y=W(t);l.l(y),y.forEach(_),s=N(a),n&&n.l(a),i=N(a),r=g(a,"BUTTON",{class:!0,"data-svelte-h":!0}),w(r)!=="svelte-1ff2ewa"&&(r.textContent=c),a.forEach(_),this.h()},h(){v(t,"class","message svelte-141ior1"),v(r,"class","svelte-141ior1"),v(e,"class","pwa-toast svelte-141ior1"),v(e,"role","alert")},m(d,a){R(d,e,a),k(e,t),l.m(t,null),k(e,s),n&&n.m(e,null),k(e,i),k(e,r),f||(u=L(r,"click",o[6]),f=!0)},p(d,a){m!==(m=p(d))&&(l.d(1),l=m(d),l&&(l.c(),l.m(t,null))),d[0]?n?n.p(d,a):(n=O(d),n.c(),n.m(e,i)):n&&(n.d(1),n=null)},d(d){d&&_(e),l.d(),n&&n.d(),f=!1,u()}}}function V(o){let e,t="New content available, click on reload button to update.";return{c(){e=h("span"),e.textContent=t},l(s){e=g(s,"SPAN",{"data-svelte-h":!0}),w(e)!=="svelte-jdu89s"&&(e.textContent=t)},m(s,i){R(s,e,i)},d(s){s&&_(e)}}}function q(o){let e,t="App ready to work offline";return{c(){e=h("span"),e.textContent=t},l(s){e=g(s,"SPAN",{"data-svelte-h":!0}),w(e)!=="svelte-1uzusaj"&&(e.textContent=t)},m(s,i){R(s,e,i)},d(s){s&&_(e)}}}function O(o){let e,t="Reload",s,i;return{c(){e=h("button"),e.textContent=t,this.h()},l(r){e=g(r,"BUTTON",{class:!0,"data-svelte-h":!0}),w(e)!=="svelte-8ag32q"&&(e.textContent=t),this.h()},h(){v(e,"class","svelte-141ior1")},m(r,c){R(r,e,c),s||(i=L(e,"click",o[7]),s=!0)},p:b,d(r){r&&_(e),s=!1,i()}}}function z(o){let e,t=o[2]&&P(o);return{c(){t&&t.c(),e=C()},l(s){t&&t.l(s),e=C()},m(s,i){t&&t.m(s,i),R(s,e,i)},p(s,[i]){s[2]?t?t.p(s,i):(t=P(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:b,o:b,d(s){s&&_(e),t&&t.d(s)}}}function B(o,e,t){let s,i,r;const{needRefresh:c,updateServiceWorker:f,offlineReady:u}=I({onRegistered(l){console.log(`SW Registered: ${l}`)},onRegisterError(l){console.log("SW registration error",l)}});S(o,c,l=>t(0,i=l)),S(o,u,l=>t(1,r=l));const p=()=>{u.set(!1),c.set(!1)},m=()=>f(!0);return o.$$.update=()=>{o.$$.dirty&3&&t(2,s=r||i)},[i,r,s,c,f,u,p,m]}class J extends U{constructor(e){super(),j(this,e,B,z,T,{})}}export{J as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
